package parser.objects;
/* ( Expr boolop Expr ) */

import java.util.ArrayList;
import java.util.logging.Logger;

import lexer.Token;
public class BooleanExpr {
	private final static Logger log = Logger.getLogger(Logger.GLOBAL_LOGGER_NAME);
	private static int postIndex;
	private static Expr expr; 
	private static Boolop boolop;
	public BooleanExpr() {
		expr = new Expr();
		boolop = new Boolop();
	}
	
	public static boolean validate(ArrayList<Token> tokens, int currIndex) {
		if(tokens.get(currIndex).getTokenType() == "openParen") {
			currIndex++; // Plus because of open paren token
			if (expr.validateExpr(tokens, currIndex)){
				if (boolop.validate(tokens, Expr.getPostIndex())) {
					if (expr.validateExpr(tokens, boolop.getPostIndex())){
						if (tokens.get(expr.getPostIndex()).getTokenType() == "closeParen"){
							postIndex = expr.getPostIndex() + 1;
							return true; // TRUE ON BOOLEAN EXPR
						} else {
							return false; // FALSE ON CLOSE PAREN
						}
					} else {
						return false; //FALSE ON SECOND EXPRESSION VALIDATION
					}
				} else {
					return false; //FALSE ON BOOLOP VALIDATION
				}
			} else {
				return false; // FALSE ON FIRST EXPRESSION
			}
		} else {
			return false; // FALSE ON OPEN PAREN
		}
	}

	public static int getPostIndex() {
		return postIndex;
	}

	public static void setPostIndex(int postIndex) {
		BooleanExpr.postIndex = postIndex;
	}

	public static Expr getExpr() {
		return expr;
	}

	public static void setExpr(Expr expr) {
		BooleanExpr.expr = expr;
	}

	public static Boolop getBoolop() {
		return boolop;
	}

	public static void setBoolop(Boolop boolop) {
		BooleanExpr.boolop = boolop;
	}
}
